!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define("canvasAnimator",[],e):"object"==typeof exports?exports.canvasAnimator=e():t.canvasAnimator=e()}(this,function(){return function(t){function e(i){if(n[i])return n[i].exports;var o=n[i]={i:i,l:!1,exports:{}};return t[i].call(o.exports,o,o.exports,e),o.l=!0,o.exports}var n={};return e.m=t,e.c=n,e.i=function(t){return t},e.d=function(t,n,i){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:i})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="/dist/",e(e.s=320)}({19:function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function r(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var s=n(8),a=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),h=function t(e,n,i){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var r=Object.getPrototypeOf(e);return null===r?void 0:t(r,n,i)}if("value"in o)return o.value;var s=o.get;if(void 0!==s)return s.call(i)},u=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;i(this,e);var s=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n,r));return s.list=[],s}return r(e,t),a(e,[{key:"reset",value:function(){if(h(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"reset",this).call(this),this.list)for(var t=0;t<this.list.length;t++)this.remove(t);else this.list=[]}},{key:"add",value:function(t){for(var e=0;e<this.list.length+1;e++)if(!this.list[e])return t.context=this.context,t.distance=this.distance,this.list[e]=t,e;return-1}},{key:"remove",value:function(t){var e=this.list[t];e&&(this.list[t]=null)}},{key:"update",value:function(t){h(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"update",this).call(this,t);for(var n=[],i=0;i<this.list.length;i++){var o=this.list[i];o&&(o.update(t),o.stopped&&o.autoRemoveWhenStopped&&n.push(i))}for(var r=0;r<n.length;r++)this.remove(n[r])}},{key:"draw",value:function(){this._beforeDraw();for(var t=0;t<this.list.length;t++){var e=this.list[t];e&&e.draw()}this._afterDraw()}}]),e}(s.a);e.a=u},320:function(t,e,n){t.exports=n(69)},33:function(t,e,n){"use strict";var i={},o=2*Math.PI,r=function(t){return function(e){return Math.pow(e,t)}},s=function(t){return function(e){return 1-Math.pow(1-e,t)}},a=function(t){return function(e){return(e*=2)<1?.5*Math.pow(e,t):1-.5*Math.abs(Math.pow(2-e,t))}},h=function(t){return function(e){return e*e*((t+1)*e-t)}},u=function(t){return function(e){return--e*e*((t+1)*e+t)+1}},c=function(t){return t*=1.525,function(e){return(e*=2)<1?.5*(e*e*((t+1)*e-t)):.5*((e-=2)*e*((t+1)*e+t)+2)}},l=function(t,e){return function(n){if(0===n||1===n)return n;var i=e/o*Math.asin(1/t);return-(t*Math.pow(2,10*(n-=1))*Math.sin((n-i)*o/e))}},f=function(t,e){return function(n){if(0===n||1===n)return n;var i=e/o*Math.asin(1/t);return t*Math.pow(2,-10*n)*Math.sin((n-i)*o/e)+1}},p=function(t,e){return function(n){var i=e/o*Math.asin(1/t);return(n*=2)<1?-.5*(t*Math.pow(2,10*(n-=1))*Math.sin((n-i)*o/e)):t*Math.pow(2,-10*(n-=1))*Math.sin((n-i)*o/e)*.5+1}};i.linear=function(t){return t},i.none=i.linear,i.quadIn=r(2),i.quadOut=s(2),i.quadInOut=a(2),i.cubicIn=r(3),i.cubicOut=s(3),i.cubicInOut=a(3),i.quartIn=r(4),i.quartOut=s(4),i.quartInOut=a(4),i.quintIn=r(5),i.quintOut=s(5),i.quintInOut=a(5),i.sineIn=function(t){return 1-Math.cos(t*Math.PI/2)},i.sineOut=function(t){return Math.sin(t*Math.PI/2)},i.sineInOut=function(t){return-.5*(Math.cos(Math.PI*t)-1)},i.backIn=h(1.7),i.backOut=u(1.7),i.backInOut=c(1.7),i.circIn=function(t){return-(Math.sqrt(1-t*t)-1)},i.circOut=function(t){return Math.sqrt(1- --t*t)},i.circInOut=function(t){return(t*=2)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)},i.bounceIn=function(t){return 1-i.bounceOut(1-t)},i.bounceOut=function(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},i.bounceInOut=function(t){return t<.5?.5*i.bounceIn(2*t):.5*i.bounceOut(2*t-1)+.5},i.elasticIn=l(1,.3),i.elasticOut=f(1,.3),i.elasticInOut=p(1,.3*1.5),i.expoIn=function(t){return Math.pow(2,10*(t-1))-.001},i.expoOut=function(t){return 1-Math.pow(2,-10*t)},i.expoInOut=function(t){return(t*=2)<1?.5*Math.pow(2,10*(t-1)):.5*(2-Math.pow(2,-10*(t-1)))},e.a=i},43:function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function r(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var s=n(8),a=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),h=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:100,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:100,h=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"#000",u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"#000";i(this,e);var c=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n,r));return c.width=s,c.height=a,c.fillStyle=h,c.strokeStyle=u,c}return r(e,t),a(e,[{key:"_draw",value:function(){this.context.beginPath(),this.context.rect(-this.width/2,-this.height/2,this.width,this.height),this.fillStyle&&this.context.fill(),this.lineWidth&&this.context.stroke()}}]),e}(s.a);e.a=h},44:function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function r(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var s=n(8),a=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),h=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:100,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:50,h=arguments.length>5&&void 0!==arguments[5]?arguments[5]:5,u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"#000",c=arguments.length>7&&void 0!==arguments[7]?arguments[7]:"#000";i(this,e);var l=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n,r));return l.R=s,l.r=a,l.angleNum=h,l.strokeStyle=c,l.fillStyle=u,l}return r(e,t),a(e,[{key:"_draw",value:function(){this.context.miterLimit=this.R,this.context.beginPath();var t=this.R,e=this.r,n=0;this.context.moveTo(Math.cos(n)*t,Math.sin(n)*t);for(var i=2*Math.PI/(2*this.angleNum),o=0;o<this.angleNum;o++){var r=n+2*o*i+i;this.context.lineTo(Math.cos(r)*e,Math.sin(r)*e),r+=i,this.context.lineTo(Math.cos(r)*t,Math.sin(r)*t)}this.context.closePath(),this.fillStyle&&this.context.fill(),this.lineWidth&&this.context.stroke()}}]),e}(s.a);e.a=h},50:function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function r(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var s=n(8),a=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),h=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:100,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"#000",h=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"#000";i(this,e);var u=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n,r));return u.r=s,u.fillStyle=a,u.strokeStyle=h,u}return r(e,t),a(e,[{key:"_draw",value:function(){this.context.beginPath(),this.context.arc(0,0,this.r,0,2*Math.PI),this.fillStyle&&this.context.fill(),this.lineWidth&&this.context.stroke()}}]),e}(s.a);e.a=h},54:function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function r(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var s=n(8),a=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),h=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:100,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:100,h=arguments[5],u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;i(this,e);var c=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n,r));return c.width=s,c.height=a,c.image=h,c.sourceRect=u,c}return r(e,t),a(e,[{key:"_draw",value:function(){this.sourceRect?this.context.drawImage(this.image,this.sourceRect.x,this.sourceRect.y,this.sourceRect.width,this.sourceRect.height,-this.width/2,-this.height/2,this.width,this.height):this.context.drawImage(this.image,-this.width/2,-this.height/2,this.width,this.height)}}]),e}(s.a);e.a=h},55:function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function r(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var s=n(8),a=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),h=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:100,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:100,h=arguments[5],u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"repeat";i(this,e);var c=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n,r));return c.width=s,c.height=a,c.pattern=t.createPattern(h,u),c}return r(e,t),a(e,[{key:"_draw",value:function(){this.context.fillStyle=this.pattern,this.context.fillRect(-this.width/2,-this.height/2,this.width,this.height)}}]),e}(s.a);e.a=h},56:function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function r(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var s=n(8),a=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),h=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:100,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:50,h=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"#000";i(this,e);var u=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n,r));return u.R=s,u.r=a,u.fillStyle=h,u}return r(e,t),a(e,[{key:"_draw",value:function(){this.context.beginPath();var t=this.R,e=this.r;this.context.moveTo(t,0),this.context.arc(0,0,t,0,2*Math.PI,!1),this.context.lineTo(e,0),this.context.arc(0,0,e,0,2*Math.PI,!0),this.context.lineTo(t,0),this.context.closePath(),this.context.fill()}}]),e}(s.a);e.a=h},57:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),n.d(e,"sinInOut",function(){return i}),n.d(e,"back",function(){return o});var i=function(t){var e=-(Math.cos(Math.PI*t)-1)/2;return e},o=function(t){return t<.5?t/=.5:t=1-(t-.5)/.5,t}},69:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(8),o=n(19),r=n(54),s=n(50),a=n(55),h=n(43),u=n(56),c=n(44),l=n(71),f=n(33),p=n(57),d=n(70),v={base:{Shape:i.a,ShapeContainer:o.a},shapes:{Bitmap:r.a,Circle:s.a,Pattern:a.a,Rect:h.a,Ring:u.a,Star:c.a,Text:l.a},utils:{ease:f.a,filters:p},Animator:d.a};window.animator=v,e.default=v},70:function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=function(){function t(e){i(this,t),this.shape=e,this.playing=!0,this.start=!1,this.lastTimestamp=Number.POSITIVE_INFINITY,this.loop=!1}return o(t,[{key:"enterframeTicker",value:function(e){window.requestAnimationFrame?window.requestAnimationFrame(e):setTimeout(e.bind(this,(new Date).getTime()),t.DEFAULT_ELAPSED)}},{key:"_enterframe",value:function(e){if(this.playing){this.start||(this.start=e);var n=(e-this.lastTimestamp)/1e3;this.lastTimestamp=e,this.shape.context&&this.shape.context.clearRect(0,0,this.shape.context.canvas.width,this.shape.context.canvas.height),this.shape.worldX=this.shape.x,this.shape.worldY=this.shape.y,this.shape.worldZ=this.shape.z,n>=0&&(this.shape.update(Math.min(n,t.DEFAULT_ELAPSED_MAX)),this.shape.draw()),this.shape.stopped&&!this.loop||this.enterframeTicker(this._enterframe.bind(this))}}},{key:"play",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.loop=t,this.playing=!0,this.start=null,this.lastTimestamp=Number.POSITIVE_INFINITY,this.enterframeTicker(this._enterframe.bind(this))}},{key:"replay",value:function(){this.shape.reset(),this.play()}},{key:"pause",value:function(){this.playing=!1}}]),t}();e.a=r,r.DEFAULT_ELAPSED=1/60,r.DEFAULT_ELAPSED_MAX=4*r.DEFAULT_ELAPSED},71:function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function r(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var s=n(8),a=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),h=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",a=arguments[4];i(this,e);var h=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n,r));return h.text=s,h.maxWidth=a,h}return r(e,t),a(e,[{key:"_draw",value:function(){this.context.fillText(this.text,0,0,this.maxWidth)}}]),e}(s.a);e.a=h},8:function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var o=n(33),r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),s=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;i(this,t),this.context=e,this.x=n,this.y=o,this.velX=0,this.velY=0,this.accX=0,this.accY=0,this.rotation=0,this.rotationVel=0,this.scale={x:1,y:1},this.alpha=1,this.compositeOperation="source-over",this.lineWidth=1,this.lineCap="butt",this.lineJoin="miter",this.miterLimit=10,this.lineDashOffset=0,this.font="10px sans-serif",this.textAlign="center",this.textBaseline="alphabetic",this.direction="inherit",this.fillStyle="#000",this.strokeStyle="#000",this.shadowBlur=0,this.shadowColor="fully-transparent black",this.shadowOffsetX=0,this.shadowOffsetY=0,this.filter="none",this.width=Number.NaN,this.height=Number.NaN,this.loop=!1,this.period=!1,this.anims=[],this.lastAnimIndex=-1,this.autoRemoveWhenStopped=!0,this.reset()}return r(t,[{key:"reset",value:function(){this.stopped=!1,this.total=0,this.progress=0}},{key:"addAnim",value:function(t){var e=t.duration,n=t.init,i=t.update;return this.anims.length<=0?(this.period=e,this.anims.push({end:this.period,init:n,update:i})):(this.period=this.anims[this.anims.length-1].end+e,this.anims.push({end:this.period,init:n,update:i})),this}},{key:"addTween",value:function(t){var e=this,n=t.duration,i=t.target,r=t.ease,s=t.update,a={};return r=r||o.a.quadInOut,this.addAnim({duration:n,init:function(){for(var t in i)a[t]=e[t]},update:function(t,n){var o=r(t);for(var h in i)e[h]=a[h]+o*(i[h]-a[h]);s&&s(t,o,n)}})}},{key:"update",value:function(t){if(!this.stopped){this.period&&(this.progress=this.total/this.period,this.progress>=1&&(this.loop?(this.total=0,this.progress=0):(this.stopped=!0,this.total=this.period,this.progress=1)));for(var e=0;e<this.anims.length;e++){var n=e<=0?0:this.anims[e-1].end,i=this.anims[e].end,o=this.anims[e].update,r=this.anims[e].init;if(this.total>=n&&this.total<i){if(this.lastAnimIndex!==e){if(this.lastAnimIndex>=0){var s=this.anims[this.lastAnimIndex].update;s&&s(1,0)}r&&r(),this.lastAnimIndex=e}var a=(this.total-n)/(i-n);o&&o(a,t);break}}this.rotationVel&&(this.rotation+=this.rotationVel*t),this.velX&&(this.x+=this.velX*t),this.velY&&(this.y+=this.velY*t),this.accX&&(this.velX+=this.accX*t),this.accY&&(this.velY+=this.accY*t),this.total+=t}}},{key:"_beforeDraw",value:function(){this.context.save(),this.context.translate(this.x,this.y),this.context.rotate(this.rotation),"number"==typeof this.scale?this.context.scale(this.scale,this.scale):this.context.scale(this.scale.x,this.scale.y),this.context.globalAlpha=this.alpha,this.context.globalCompositeOperation=this.compositeOperation,this.context.lineWidth=this.lineWidth,this.context.lineCap=this.lineCap,this.context.lineJoin=this.lineJoin,this.context.miterLimit=this.miterLimit,this.context.lineDashOffset=this.lineDashOffset,this.context.font=this.font,this.context.textAlign=this.textAlign,this.context.textBaseline=this.textBaseline,this.context.direction=this.direction,this.context.fillStyle=this.fillStyle,this.context.strokeStyle=this.strokeStyle,this.context.shadowBlur=this.shadowBlur,this.context.shadowColor=this.shadowColor,this.context.shadowOffsetX=this.shadowOffsetX,this.context.shadowOffsetY=this.shadowOffsetY,this.context.filter=this.filter}},{key:"_draw",value:function(){}},{key:"_afterDraw",value:function(){this.context.restore()}},{key:"draw",value:function(){this._beforeDraw(),this._draw(),this._afterDraw()}}]),t}();e.a=s}})});
//# sourceMappingURL=index.min.js.map