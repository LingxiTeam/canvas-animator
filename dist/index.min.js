!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define("canvas-animator",[],e):"object"==typeof exports?exports["canvas-animator"]=e():t["canvas-animator"]=e()}(this,function(){return function(t){function e(i){if(n[i])return n[i].exports;var o=n[i]={i:i,l:!1,exports:{}};return t[i].call(o.exports,o,o.exports,e),o.l=!0,o.exports}var n={};return e.m=t,e.c=n,e.i=function(t){return t},e.d=function(t,n,i){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:i})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="/dist/",e(e.s=318)}({22:function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function r(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var a=n(8),s=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),u=function t(e,n,i){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var r=Object.getPrototypeOf(e);return null===r?void 0:t(r,n,i)}if("value"in o)return o.value;var a=o.get;if(void 0!==a)return a.call(i)},h=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Number.MAX_SAFE_INTEGER;i(this,e);var u=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n,r,a,s));return u.rotationX=0,u.rotationY=0,u.rotationZ=0,u.list=[],u}return r(e,t),s(e,[{key:"reset",value:function(){if(u(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"reset",this).call(this),this.list)for(var t=0;t<this.list.length;t++)this.remove(t);else this.list=[]}},{key:"add",value:function(t){for(var e=0;e<this.list.length+1;e++)if(!this.list[e])return t.context=this.context,t.distance=this.distance,this.list[e]=t,e;return-1}},{key:"remove",value:function(t){var e=this.list[t];e&&(this.list[t]=null)}},{key:"update",value:function(t){u(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"update",this).call(this,t);for(var n=[],i=0;i<this.list.length;i++){var o=this.list[i];if(o){var r=e.rotate(o.x,o.y,o.z,this.rotationX,this.rotationY,this.rotationZ),a=r.x,s=r.y,h=r.z;o.worldX=this.worldX+a,o.worldY=this.worldY+s,o.worldZ=this.worldZ+h,o.map(),o.update(t),o.stopped&&o.autoRemoveWhenStopped&&n.push(i)}}for(var c=0;c<n.length;c++)this.remove(n[c])}},{key:"draw",value:function(){for(var t=0;t<this.list.length;t++){var e=this.list[t];e&&e.draw()}}}]),e}(a.a);e.a=h,h.rotateX=function(t,e,n,i){var o=e*Math.cos(i)-n*Math.sin(i),r=e*Math.sin(i)+n*Math.cos(i);return{x:t,y:o,z:r}},h.rotateY=function(t,e,n,i){var o=n*Math.cos(i)-t*Math.sin(i),r=n*Math.sin(i)+t*Math.cos(i);return{x:r,y:e,z:o}},h.rotateZ=function(t,e,n,i){var o=t*Math.cos(i)-e*Math.sin(i),r=t*Math.sin(i)+e*Math.cos(i);return{x:o,y:r,z:n}},h.rotate=function(t,e,n,i,o,r){var a={x:t,y:e,z:n};return a=h.rotateX(a.x,a.y,a.z,i),a=h.rotateY(a.x,a.y,a.z,o),a=h.rotateZ(a.x,a.y,a.z,r)}},318:function(t,e,n){t.exports=n(69)},33:function(t,e,n){"use strict";var i={},o=2*Math.PI,r=function(t){return function(e){return Math.pow(e,t)}},a=function(t){return function(e){return 1-Math.pow(1-e,t)}},s=function(t){return function(e){return(e*=2)<1?.5*Math.pow(e,t):1-.5*Math.abs(Math.pow(2-e,t))}},u=function(t){return function(e){return e*e*((t+1)*e-t)}},h=function(t){return function(e){return--e*e*((t+1)*e+t)+1}},c=function(t){return t*=1.525,function(e){return(e*=2)<1?.5*(e*e*((t+1)*e-t)):.5*((e-=2)*e*((t+1)*e+t)+2)}},l=function(t,e){return function(n){if(0===n||1===n)return n;var i=e/o*Math.asin(1/t);return-(t*Math.pow(2,10*(n-=1))*Math.sin((n-i)*o/e))}},f=function(t,e){return function(n){if(0===n||1===n)return n;var i=e/o*Math.asin(1/t);return t*Math.pow(2,-10*n)*Math.sin((n-i)*o/e)+1}},p=function(t,e){return function(n){var i=e/o*Math.asin(1/t);return(n*=2)<1?-.5*(t*Math.pow(2,10*(n-=1))*Math.sin((n-i)*o/e)):t*Math.pow(2,-10*(n-=1))*Math.sin((n-i)*o/e)*.5+1}};i.linear=function(t){return t},i.none=i.linear,i.quadIn=r(2),i.quadOut=a(2),i.quadInOut=s(2),i.cubicIn=r(3),i.cubicOut=a(3),i.cubicInOut=s(3),i.quartIn=r(4),i.quartOut=a(4),i.quartInOut=s(4),i.quintIn=r(5),i.quintOut=a(5),i.quintInOut=s(5),i.sineIn=function(t){return 1-Math.cos(t*Math.PI/2)},i.sineOut=function(t){return Math.sin(t*Math.PI/2)},i.sineInOut=function(t){return-.5*(Math.cos(Math.PI*t)-1)},i.backIn=u(1.7),i.backOut=h(1.7),i.backInOut=c(1.7),i.circIn=function(t){return-(Math.sqrt(1-t*t)-1)},i.circOut=function(t){return Math.sqrt(1- --t*t)},i.circInOut=function(t){return(t*=2)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)},i.bounceIn=function(t){return 1-i.bounceOut(1-t)},i.bounceOut=function(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},i.bounceInOut=function(t){return t<.5?.5*i.bounceIn(2*t):.5*i.bounceOut(2*t-1)+.5},i.elasticIn=l(1,.3),i.elasticOut=f(1,.3),i.elasticInOut=p(1,.3*1.5),i.expoIn=function(t){return Math.pow(2,10*(t-1))-.001},i.expoOut=function(t){return 1-Math.pow(2,-10*t)},i.expoInOut=function(t){return(t*=2)<1?.5*Math.pow(2,10*(t-1)):.5*(2-Math.pow(2,-10*(t-1)))},e.a=i},48:function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function r(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var a=n(8),s=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),u=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:100,u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"#000",h=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Number.MAX_SAFE_INTEGER;i(this,e);var c=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n,r,a,h));return c.r=s,c.color=u,c}return r(e,t),s(e,[{key:"_draw",value:function(){this.context.beginPath(),this.context.arc(0,0,this.r*this.finalScale,0,2*Math.PI),this.context.fillStyle=this.color,this.context.fill()}}]),e}(a.a);e.a=u},49:function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function r(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var a=n(8),s=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),u=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:100,u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:50,h=arguments.length>6&&void 0!==arguments[6]?arguments[6]:5,c=arguments.length>7&&void 0!==arguments[7]?arguments[7]:"#000",l=arguments.length>8&&void 0!==arguments[8]?arguments[8]:"#fff",f=arguments.length>9&&void 0!==arguments[9]?arguments[9]:2,p=arguments.length>10&&void 0!==arguments[10]?arguments[10]:Number.MAX_SAFE_INTEGER;i(this,e);var d=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n,r,a,p));return d.R=s,d.r=u,d.angleNum=h,d.strokeStyle=c,d.fillStyle=l,d.lineWidth=f,d}return r(e,t),s(e,[{key:"_draw",value:function(){this.context.miterLimit=this.R,this.context.beginPath();var t=this.R*this.finalScale,e=this.r*this.finalScale,n=0;this.context.moveTo(Math.cos(n)*t,Math.sin(n)*t);for(var i=2*Math.PI/(2*this.angleNum),o=0;o<this.angleNum;o++){var r=n+2*o*i+i;this.context.lineTo(Math.cos(r)*e,Math.sin(r)*e),r+=i,this.context.lineTo(Math.cos(r)*t,Math.sin(r)*t)}this.context.closePath(),this.context.fillStyle=this.fillStyle,this.context.fill(),this.context.lineWidth=this.lineWidth,this.context.strokeStyle=this.strokeStyle,this.context.stroke()}}]),e}(a.a);e.a=u},53:function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function r(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var a=n(8),s=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),u=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:100,u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:100,h=arguments[6],c=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null,l=arguments.length>8&&void 0!==arguments[8]?arguments[8]:Number.MAX_SAFE_INTEGER;i(this,e);var f=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n,r,a,l));return f.width=s,f.height=u,f.image=h,f.srcRect=c,f}return r(e,t),s(e,[{key:"_draw",value:function(){this.srcRect?this.context.drawImage(this.image,this.srcRect.x,this.srcRect.y,this.srcRect.width,this.srcRect.height,-this.actualWidth/2,-this.actualHeight/2,this.actualWidth,this.actualHeight):this.context.drawImage(this.image,-this.actualWidth/2,-this.actualHeight/2,this.actualWidth,this.actualHeight)}}]),e}(a.a);e.a=u},54:function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function r(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var a=n(8),s=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),u=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:100,u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:100,h=arguments[6],c=arguments.length>7&&void 0!==arguments[7]?arguments[7]:"repeat",l=arguments.length>8&&void 0!==arguments[8]?arguments[8]:Number.MAX_SAFE_INTEGER;i(this,e);var f=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n,r,a,l));return f.width=s,f.height=u,f.pattern=t.createPattern(h,c),f}return r(e,t),s(e,[{key:"_draw",value:function(){this.context.fillStyle=this.pattern,this.context.fillRect(-this.actualWidth/2,-this.actualHeight/2,this.actualWidth,this.actualHeight)}}]),e}(a.a);e.a=u},55:function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function r(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var a=n(8),s=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),u=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:100,u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:100,h=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"#000",c=arguments.length>7&&void 0!==arguments[7]?arguments[7]:Number.MAX_SAFE_INTEGER;i(this,e);var l=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n,r,a,c));return l.width=s,l.height=u,l.color=h,l}return r(e,t),s(e,[{key:"_draw",value:function(){this.context.fillStyle=this.color,this.context.fillRect(-this.actualWidth/2,-this.actualHeight/2,this.actualWidth,this.actualHeight)}}]),e}(a.a);e.a=u},56:function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function r(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var a=n(8),s=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),u=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:100,u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:50,h=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"#fff",c=arguments.length>7&&void 0!==arguments[7]?arguments[7]:Number.MAX_SAFE_INTEGER;i(this,e);var l=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n,r,a,c));return l.R=s,l.r=u,l.fillStyle=h,l}return r(e,t),s(e,[{key:"_draw",value:function(){this.context.beginPath();var t=this.R*this.finalScale,e=this.r*this.finalScale;this.context.moveTo(t,0),this.context.arc(0,0,t,0,2*Math.PI,!1),this.context.lineTo(e,0),this.context.arc(0,0,e,0,2*Math.PI,!0),this.context.lineTo(t,0),this.context.closePath(),this.context.fillStyle=this.fillStyle,this.context.fill()}}]),e}(a.a);e.a=u},57:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),n.d(e,"sinInOut",function(){return i}),n.d(e,"back",function(){return o});var i=function(t){var e=-(Math.cos(Math.PI*t)-1)/2;return e},o=function(t){return t<.5?t/=.5:t=1-(t-.5)/.5,t}},69:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(8),o=n(22),r=n(53),a=n(48),s=n(54),u=n(55),h=n(56),c=n(49),l=n(33),f=n(57),p=n(70),d={base:{Shape:i.a,ShapeContainer:o.a},shapes:{Bitmap:r.a,Circle:a.a,Pattern:s.a,Rect:u.a,Ring:h.a,Star:c.a},utils:{ease:l.a,filters:f},Animator:p.a};window.animator=d,e.default=d},70:function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=function(){function t(e){i(this,t),this.shape=e,this.playing=!0,this.start=!1,this.lastTimestamp=Number.POSITIVE_INFINITY,this.loop=!1}return o(t,[{key:"enterframeTicker",value:function(e){window.requestAnimationFrame?window.requestAnimationFrame(e):setTimeout(e.bind(this,(new Date).getTime()),t.DEFAULT_ELAPSED)}},{key:"_enterframe",value:function(e){if(this.playing){this.start||(this.start=e);var n=(e-this.lastTimestamp)/1e3;this.lastTimestamp=e,this.shape.context&&this.shape.context.clearRect(0,0,this.shape.context.canvas.width,this.shape.context.canvas.height),this.shape.worldX=this.shape.x,this.shape.worldY=this.shape.y,this.shape.worldZ=this.shape.z,n>=0&&(this.shape.update(Math.min(n,t.DEFAULT_ELAPSED_MAX)),this.shape.draw()),this.shape.stopped&&!this.loop||this.enterframeTicker(this._enterframe.bind(this))}}},{key:"play",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.loop=t,this.playing=!0,this.start=null,this.lastTimestamp=Number.POSITIVE_INFINITY,this.enterframeTicker(this._enterframe.bind(this))}},{key:"replay",value:function(){this.shape.reset(),this.play()}},{key:"pause",value:function(){this.playing=!1}}]),t}();e.a=r,r.DEFAULT_ELAPSED=1/60,r.DEFAULT_ELAPSED_MAX=4*r.DEFAULT_ELAPSED},8:function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var o=n(33),r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),a=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Number.MAX_SAFE_INTEGER;i(this,t),this.x=n,this.y=o,this.z=r,this.context=e,this.distance=a,this.worldX=this.x,this.worldY=this.y,this.worldZ=this.z,this.rotationX=0,this.rotationY=0,this.rotationZ=0,this.rotationVelX=0,this.rotationVelY=0,this.rotationVelZ=0,this.scale=1,this.zScale=1,this.finalScale=1,this.alpha=1,this.filter="none",this.width=Number.NaN,this.height=Number.NaN,this.actualWidth=Number.NaN,this.actualHeight=Number.NaN,this.loop=!1,this.period=!1,this.anims=[],this.lastAnimIndex=-1,this.autoRemoveWhenStopped=!0,this.reset(),this.map()}return r(t,[{key:"reset",value:function(){this.stopped=!1,this.total=0,this.progress=0}},{key:"addAnim",value:function(t){var e=t.duration,n=t.init,i=t.update;return this.anims.length<=0?(this.period=e,this.anims.push({end:this.period,init:n,update:i})):(this.period=this.anims[this.anims.length-1].end+e,this.anims.push({end:this.period,init:n,update:i})),this}},{key:"addTween",value:function(t){var e=this,n=t.duration,i=t.target,r=t.easeFunc,a={};return r=r||o.a.quadInOut,this.addAnim({duration:n,init:function(){for(var t in i)a[t]=e[t]},update:function(t,n){for(var o in i)e[o]=a[o]+r(t)*(i[o]-a[o])}})}},{key:"map",value:function(){this.zScale=(this.worldZ+this.distance)/this.distance,this.worldX*=this.zScale,this.worldY*=this.zScale}},{key:"update",value:function(t){if(!this.stopped){this.period&&(this.progress=this.total/this.period,this.progress>=1&&(this.loop?(this.total=0,this.progress=0):(this.stopped=!0,this.total=this.period,this.progress=1)));for(var e=0;e<this.anims.length;e++){var n=e<=0?0:this.anims[e-1].end,i=this.anims[e].end,o=this.anims[e].update,r=this.anims[e].init;if(this.total>=n&&this.total<i){if(this.lastAnimIndex!==e){if(this.lastAnimIndex>=0){var a=this.anims[this.lastAnimIndex].update;a&&a(1,0)}r&&r(),this.lastAnimIndex=e}var s=(this.total-n)/(i-n);o&&o(s,t);break}}this.rotationX+=this.rotationVelX*t,this.rotationY+=this.rotationVelY*t,this.rotationZ+=this.rotationVelZ*t,this.finalScale=this.zScale*this.scale,this.total+=t}}},{key:"draw",value:function(){this.context.save(),this.context.translate(this.worldX,this.worldY),this.context.rotate(this.rotationZ),this.context.globalAlpha=this.alpha,this.context.filter=this.filter,this.actualWidth=this.width*this.finalScale,this.actualHeight=this.height*this.finalScale,this._draw&&this._draw(),this.context.restore()}}]),t}();e.a=a}})});
//# sourceMappingURL=index.min.js.map